<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Curral Bonito</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <i class="bi bi-award-fill text-warning fs-2"></i>
            <h5 class="fw-bold mb-0 mt-2">CURRAL BONITO</h5>
            <small class="text-muted">Gestão Rural Pro</small>
        </div>

        <nav class="sidebar-menu">
            <a href="dashboard.html" class="menu-item active">
                <i class="bi bi-speedometer2"></i>
                <span>Dashboard</span>
            </a>
            <a href="rebanho.html" class="menu-item">
                <i class="bi bi-clipboard-data"></i>
                <span>Rebanho</span>
            </a>
            <a href="genealogia.html" class="menu-item">
                <i class="bi bi-diagram-3"></i>
                <span>Genealogia</span>
            </a>
            <a href="inseminacao.html" class="menu-item">
                <i class="bi bi-heart-pulse"></i>
                <span>Inseminação</span>
            </a>
            <a href="sanitario.html" class="menu-item">
                <i class="bi bi-prescription2"></i>
                <span>Sanitário</span>
            </a>
            <a href="alimentacao.html" class="menu-item">
                <i class="bi bi-basket"></i>
                <span>Alimentação</span>
            </a>
            <a href="financeiro.html" class="menu-item">
                <i class="bi bi-cash-coin"></i>
                <span>Financeiro</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <button class="btn btn-danger w-100" id="logout-btn">
                <i class="bi bi-box-arrow-right me-2"></i>Sair
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Top Bar -->
        <div class="topbar">
            <button class="btn btn-primary" id="toggle-sidebar">
                <i class="bi bi-list fs-4"></i>
            </button>
            <div class="ms-auto d-flex align-items-center">
                <span class="me-3">Bem-vindo, <strong id="username-display"></strong>!</span>
                <i class="bi bi-person-circle fs-3 text-primary"></i>
            </div>
        </div>

        <!-- Content -->
        <div class="content-area">
            <div class="page-header">
                <h1 class="fw-bold">
                    <i class="bi bi-speedometer2 text-primary"></i>
                    Dashboard Principal
                </h1>
                <p class="text-muted">Visão geral da sua propriedade rural</p>
            </div>

            <!-- Tutorial -->
            <div class="alert alert-info alert-dismissible fade show" role="alert">
                <h5 class="alert-heading"><i class="bi bi-lightbulb-fill me-2"></i>Como Usar o Sistema</h5>
                <p class="mb-2"><strong>1.</strong> Use o menu lateral para navegar entre as páginas</p>
                <p class="mb-2"><strong>2.</strong> Todos os dados são salvos automaticamente no seu navegador</p>
                <p class="mb-2"><strong>3.</strong> Comece cadastrando seus animais na página "Rebanho"</p>
                <p class="mb-0"><strong>4.</strong> Os dados são criptografados para sua segurança</p>
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>

            <!-- Cards de Resumo -->
            <div class="row g-4">
                <div class="col-lg-3 col-md-6">
                    <div class="dashboard-card bg-primary">
                        <div class="card-icon">
                            <i class="bi bi-clipboard-data"></i>
                        </div>
                        <div>
                            <h3 class="mb-0" id="total-animais">0</h3>
                            <p class="mb-0">Total de Animais</p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-6">
                    <div class="dashboard-card bg-success">
                        <div class="card-icon">
                            <i class="bi bi-rulers"></i>
                        </div>
                        <div>
                            <h3 class="mb-0" id="total-ua">0.0</h3>
                            <p class="mb-0">Unidades Animais (UA)</p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-6">
                    <div class="dashboard-card bg-warning">
                        <div class="card-icon">
                            <i class="bi bi-cash-stack"></i>
                        </div>
                        <div>
                            <h3 class="mb-0" id="saldo-total">R$ 0,00</h3>
                            <p class="mb-0">Saldo Financeiro</p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-6">
                    <div class="dashboard-card bg-danger">
                        <div class="card-icon">
                            <i class="bi bi-heart-pulse"></i>
                        </div>
                        <div>
                            <h3 class="mb-0" id="total-inseminacoes">0</h3>
                            <p class="mb-0">Inseminações Ativas</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Alertas e Próximos Eventos -->
            <div class="row g-4 mt-4">
                <div class="col-lg-6">
                    <div class="card shadow-sm">
                        <div class="card-header bg-warning text-white">
                            <h5 class="mb-0"><i class="bi bi-exclamation-triangle-fill me-2"></i>Alertas Sanitários</h5>
                        </div>
                        <div class="card-body">
                            <div id="alertas-sanitarios">
                                <p class="text-muted">Nenhum alerta no momento</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-6">
                    <div class="card shadow-sm">
                        <div class="card-header bg-info text-white">
                            <h5 class="mb-0"><i class="bi bi-calendar-event me-2"></i>Próximos Eventos</h5>
                        </div>
                        <div class="card-body">
                            <div id="proximos-eventos">
                                <p class="text-muted">Nenhum evento programado</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"></script>
    <script src="js/data-manager.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Atualiza o dashboard
        document.addEventListener('DOMContentLoaded', () => {
            const stats = DataManager.getDashboardStats();
            document.getElementById('total-animais').textContent = stats.totalAnimais;
            document.getElementById('total-ua').textContent = stats.totalUA.toFixed(2);
            document.getElementById('saldo-total').textContent = stats.saldoTotal;
            document.getElementById('total-inseminacoes').textContent = stats.totalInseminacoes;
        });
    </script>
</body>
</html>